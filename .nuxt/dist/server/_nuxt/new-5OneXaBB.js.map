{"version":3,"file":"new-5OneXaBB.js","sources":["../../../../pages/app/training/new.vue"],"sourcesContent":["<template>\n  <div class=\"app-page-narrow\">\n    <AppPageHeader\n      title=\"Configure training\"\n      description=\"Select dataset version and config. Estimated ~$14.50, ~2h.\"\n      back-to=\"/app/projects/proj_demo1\"\n      back-label=\"Project\"\n    />\n    <form @submit.prevent=\"onSubmit\" class=\"space-y-6\">\n      <div>\n        <label class=\"app-label\">Dataset version</label>\n        <select v-model=\"form.dataset_version_id\" class=\"app-select\">\n          <option value=\"dsv_1\">Support chat v1 (10,200 rows)</option>\n        </select>\n      </div>\n      <div>\n        <label class=\"app-label\">Epochs</label>\n        <input\n          v-model.number=\"form.epochs\"\n          type=\"number\"\n          class=\"app-input\"\n          min=\"1\"\n          max=\"20\"\n        />\n      </div>\n      <div>\n        <label class=\"app-label\">LoRA rank</label>\n        <select v-model.number=\"form.lora_rank\" class=\"app-select\">\n          <option :value=\"8\">8</option>\n          <option :value=\"16\">16</option>\n          <option :value=\"32\">32</option>\n        </select>\n      </div>\n      <div class=\"flex flex-wrap gap-3 pt-1\">\n        <AppButton type=\"submit\" :disabled=\"loading\">\n          {{ loading ? 'Startingâ€¦' : 'Start training' }}\n        </AppButton>\n        <AppButton variant=\"secondary\" to=\"/app/projects/proj_demo1\">Cancel</AppButton>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\ndefinePageMeta({ layout: 'app' })\n\nexport default defineComponent({\n  name: 'NewTraining',\n  data() {\n    return {\n      form: { dataset_version_id: 'dsv_1', epochs: 3, lora_rank: 16, compute_mode: 'auto' },\n      loading: false,\n    }\n  },\n  setup() {\n    const { apiFetch } = useAployApi()\n    return { apiFetch }\n  },\n  methods: {\n    async onSubmit() {\n      this.loading = true\n      try {\n        const data = await this.apiFetch<{ id: string }>('/api/runs', {\n          method: 'POST',\n          body: {\n            project_id: 'proj_demo1',\n            dataset_version_id: this.form.dataset_version_id,\n            config: { epochs: this.form.epochs, lora_rank: this.form.lora_rank },\n            compute: { mode: this.form.compute_mode },\n          },\n        })\n        await navigateTo(`/app/runs/${data.id}`)\n      } finally {\n        this.loading = false\n      }\n    },\n  },\n})\n</script>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_ssrIncludeBooleanAttr","_ssrLooseContain","_ssrLooseEqual","_push","_parent"],"mappings":";;;;;;;;;;;;;;;;;;AAgDA,MAAA,YAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EACN,OAAO;AACL,WAAO;AAAA,MACL,MAAM,EAAE,oBAAoB,SAAS,QAAQ,GAAG,WAAW,IAAI,cAAc,OAAA;AAAA,MAC7E,SAAS;AAAA,IAAA;AAAA,EAEb;AAAA,EACA,QAAQ;AACN,UAAM,EAAE,SAAA,IAAa,YAAA;AACrB,WAAO,EAAE,SAAA;AAAA,EACX;AAAA,EACA,SAAS;AAAA,IACP,MAAM,WAAW;AACf,WAAK,UAAU;AACf,UAAI;AACF,cAAM,OAAO,MAAM,KAAK,SAAyB,aAAa;AAAA,UAC5D,QAAQ;AAAA,UACR,MAAM;AAAA,YACJ,YAAY;AAAA,YACZ,oBAAoB,KAAK,KAAK;AAAA,YAC9B,QAAQ,EAAE,QAAQ,KAAK,KAAK,QAAQ,WAAW,KAAK,KAAK,UAAA;AAAA,YACzD,SAAS,EAAE,MAAM,KAAK,KAAK,aAAA;AAAA,UAAa;AAAA,QAC1C,CACD;AACD,cAAM,WAAW,aAAa,KAAK,EAAE,EAAE;AAAA,MACzC,UAAA;AACE,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,EAAA;AAEJ,CAAC;;;;AA9EM,QAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,qBAAiB,MAAA,CAAA,CAAA,GAAA;;IAExB,OAAM;AAAA,IACN,aAAY;AAAA,IACZ,WAAQ;AAAA,IACR,cAAW;AAAA,EAAA,GAAA,MAAA,OAAA,CAAA;4KAKQ,KAAA,KAAK,kBAAkB,oBAAvB,KAAA,KAAK,oBAAkB,yBAAvB,KAAA,KAAK,oBAAkB,OAAA,CAAA,IAAA,cAAA,EAAA,2GAAAC,cAAA,SAOtB,KAAA,KAAK,MAAM,CAAA,4IAAAA,cAUlB,SAAO,CAAC,CAAA,GAAAC,sBAAA,MAAA,QADK,KAAA,KAAK,SAAS,IAAAC,gBAAd,KAAA,KAAK,WACX,CAAC,IAAAC,cADK,KAAA,KAAK,WACX,CAAC,CAAA,IAAA,cAAA,EAAA,qBAAAH,cACR,SAAO,EAAE,CAAA,GAAAC,sBAAA,MAAA,QAFI,KAAA,KAAK,SAAS,IAAAC,gBAAd,KAAA,KAAK,WAEX,EAAE,IAAAC,cAFI,KAAA,KAAK,WAEX,EAAE,CAAA,IAAA,cAAA,EAAA,sBAAAH,cACT,SAAO,EAAE,CAAA,GAAAC,sBAAA,MAAA,QAHI,KAAA,KAAK,SAAS,IAAAC,gBAAd,KAAA,KAAK,WAGX,EAAE,IAAAC,cAHI,KAAA,KAAK,WAGX,EAAE,CAAA,IAAA,cAAA,EAAA,oEAAA;;IAIT,MAAK;AAAA,IAAU,UAAU,KAAA;AAAA,EAAA,GAAA;AAAA,qBAApC,CAEY,GAAAC,QAAAC,UAAA,aAAA;;iCADP,KAAA,UAAO,cAAA,gBAAA,CAAA,EAAA;AAAA,MAAA,OAAA;;0CAAP,KAAA,UAAO,cAAA,gBAAA,GAAA,CAAA;AAAA,QAAA;AAAA;;;;;IAED,SAAQ;AAAA,IAAY,IAAG;AAAA,EAAA,GAAA;AAAA,qBAAlC,CAA+E,GAAAD,QAAAC,UAAA,aAAA;;;;;0BAAlB,QAAM;AAAA,QAAA;AAAA;;;;;;;;;;;;;"}