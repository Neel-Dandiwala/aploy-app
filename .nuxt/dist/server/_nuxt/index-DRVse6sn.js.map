{"version":3,"file":"index-DRVse6sn.js","sources":["../../../../pages/app/knowledge-bases/index.vue"],"sourcesContent":["<template>\n  <div class=\"app-page\">\n    <AppPageHeader title=\"Knowledge bases\">\n      <template #actions>\n        <AppButton to=\"/app/knowledge-bases/new\">Add knowledge base</AppButton>\n      </template>\n    </AppPageHeader>\n    <p v-if=\"loading\" class=\"text-muted-foreground text-sm\">Loading…</p>\n    <p v-else-if=\"error\" class=\"app-error\">{{ error }}</p>\n    <div v-else class=\"app-table-wrap\">\n      <table class=\"app-table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Status</th>\n            <th>Chunks</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"kb in knowledgeBases\" :key=\"kb.id\">\n            <td class=\"font-medium text-zinc-900\">{{ kb.name }}</td>\n            <td :class=\"statusClass(kb.status)\">{{ kb.status }}</td>\n            <td class=\"text-muted-foreground\">{{ kb.chunk_count ?? '—' }}</td>\n            <td>\n              <NuxtLink\n                :to=\"`/app/knowledge-bases/${kb.id}`\"\n                class=\"text-accent hover:text-accent-hover text-sm transition-colors\"\n              >\n                Open\n              </NuxtLink>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <p v-if=\"!loading && !error && knowledgeBases.length === 0\" class=\"app-empty\">\n        No knowledge bases yet. Add one to get started.\n      </p>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\ndefinePageMeta({ layout: 'app' })\n\ninterface KBItem {\n  id: string\n  name: string\n  status: string\n  chunk_count?: number | null\n}\n\nexport default defineComponent({\n  name: 'KnowledgeBasesList',\n  data() {\n    return {\n      knowledgeBases: [] as KBItem[],\n      loading: true,\n      error: '',\n    }\n  },\n  setup() {\n    const { apiFetch } = useAployApi()\n    return { apiFetch }\n  },\n  async mounted() {\n    await this.load()\n  },\n  methods: {\n    async load() {\n      this.loading = true\n      this.error = ''\n      try {\n        const data = await this.apiFetch<{ knowledge_bases: KBItem[] }>('/api/knowledge-bases')\n        this.knowledgeBases = data.knowledge_bases || []\n      } catch (e) {\n        this.error = (e as Error).message || 'Failed to load knowledge bases'\n      } finally {\n        this.loading = false\n      }\n    },\n    statusClass(status: string): string {\n      if (status === 'ready') return 'text-emerald-500'\n      if (status === 'failed') return 'text-destructive'\n      if (status === 'ingesting') return 'text-amber-500'\n      return 'text-muted-foreground'\n    },\n  },\n})\n</script>\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_withCtx","_push","_parent","_","_scopeId","_createVNode","_createTextVNode","_ssrRenderList","_ssrRenderClass","_ssrInterpolate"],"mappings":";;;;;;;;;;;;;;;;;;;;AAsDA,MAAA,YAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EACN,OAAO;AACL,WAAO;AAAA,MACL,gBAAgB,CAAA;AAAA,MAChB,SAAS;AAAA,MACT,OAAO;AAAA,IAAA;AAAA,EAEX;AAAA,EACA,QAAQ;AACN,UAAM,EAAE,SAAA,IAAa,YAAA;AACrB,WAAO,EAAE,SAAA;AAAA,EACX;AAAA,EACA,MAAM,UAAU;AACd,UAAM,KAAK,KAAA;AAAA,EACb;AAAA,EACA,SAAS;AAAA,IACP,MAAM,OAAO;AACX,WAAK,UAAU;AACf,WAAK,QAAQ;AACb,UAAI;AACF,cAAM,OAAO,MAAM,KAAK,SAAwC,sBAAsB;AACtF,aAAK,iBAAiB,KAAK,mBAAmB,CAAA;AAAA,MAChD,SAAS,GAAG;AACV,aAAK,QAAS,EAAY,WAAW;AAAA,MACvC,UAAA;AACE,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,IACA,YAAY,QAAwB;AAClC,UAAI,WAAW,QAAS,QAAO;AAC/B,UAAI,WAAW,SAAU,QAAO;AAChC,UAAI,WAAW,YAAa,QAAO;AACnC,aAAO;AAAA,IACT;AAAA,EAAA;AAEJ,CAAC;;;;;AAzFM,QAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,cAAU,MAAA,CAAA,CAAA,GAAA;AACJ,QAAAC,mBAAA,0BAAA,EAAA,OAAM,kBAAA,GAAiB;AAAA,IACzB,SAAOC,QAAlB,CAEW,GAAAC,QAAAC,UAAA,aAAA;;AADE,eAAAH,mBAAA,sBAAA,EAAA,IAAG,2BAAA,GAA0B;AAAA,UAAA,SAAAC,QAAxC,CAAuEG,IAAAF,QAAAC,UAAAE,cAAA;;;;;gCAA9B,oBAAkB;AAAA,cAAA;AAAA;;;;;;UAA3DC,YAAuE,sBAAA,EAA5D,IAAG,2BAAA,GAA0B;AAAA,YAAA,SAAAL,QAAC,MAAkB;AAAA,cAAAM,gBAAlB,oBAAkB;AAAA,YAAA,CAAA;AAAA;;;;;;;MAGtD,KAAA,SAAO;;aACF,KAAA,OAAK;iDAAuB,KAAA,KAAK,CAAA,MAAA;AAAA,EAAA,OAAA;;AAYxBC,kBAAA,KAAA,gBAAc,CAApB,OAAE;wEAC8B,GAAG,IAAI,CAAA,mBAAAC,eACpC,KAAA,YAAY,GAAG,MAAM,sBAAM,GAAG,MAAM,CAAA,0CAAAC,eACX,GAAG,eAAW,GAAA,CAAA,WAAA;;QAG9C,IAAE,wBAA0B,GAAG,EAAE;AAAA,QAClC,OAAM;AAAA,MAAA,GAAA;AAAA,yBAFR,CAKW,GAAAR,QAAAC,UAAA,aAAA;;;;;8BAFV,QAED;AAAA,YAAA;AAAA;;;;;;;SAKE,KAAA,WAAO,CAAK,KAAA,SAAS,KAAA,eAAe,WAAM,GAAA;;;;;;;;;;;;;;;;"}