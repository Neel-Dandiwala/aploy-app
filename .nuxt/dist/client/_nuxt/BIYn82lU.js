const i=new Date().toISOString(),r={project:"proj_mock1",dataset:"ds_mock1",run:"run_mock1",deployment:"dep_mock1",knowledgeBase:"kb_mock1",pipeline:"pipe_mock1",trigger:"trig_mock1",orgSlug:"acme",apiKey:"key_mock1",credential:"cred_mock1"};let o=0;function u(){o=1}function d(){if(o>0)throw o-=1,new Error("Simulated error for testing.")}async function c(s,a={}){const t=(a.method||"GET").toUpperCase();d();const e=s.replace(/\?.*$/,"").replace(/^\/api\/?/,"").split("/").filter(Boolean);if(e[0]==="projects"&&e.length===1){if(t==="GET")return{projects:[{id:r.project,name:"Support Bot",base_model:"mistralai/Mistral-7B-v0.2",objective:"dpo",created_at:i}]};if(t==="POST")return{id:r.project}}if(e[0]==="datasets"){if(e.length===1){if(t==="GET")return{datasets:[{id:r.dataset,name:"Support chat v1",status:"ready",row_count:10200,created_at:i}]};if(t==="POST")return{id:r.dataset}}if(e.length===2&&e[1]!=="new"){const n=e[1];if(t==="GET")return{id:n,name:"Support chat v1",status:"ready",source:{type:"upload"},row_count:10200,quality:{duplication_pct:2,pii_flagged:0,schema_adherence:98},versions:[{id:"dsv_1",tag:"v1",status:"ready",row_count:10200,created_at:i}]};if(e.length===3&&e[2]==="ingest"&&t==="POST")return{status:"ready",row_count:10200}}}if(e[0]==="runs"&&e.length===1){if(t==="GET")return{runs:[{id:r.run,project_id:r.project,status:"succeeded",duration_sec:7200,cost_usd:14.2,created_at:i}]};if(t==="POST")return{id:r.run}}if(e[0]==="deploy"){if(t==="GET")return{deployments:[{id:r.deployment,model_version_id:"mv_1",type:"api",status:"live",endpoint_url:"https://api.aploy.dev/v1/deployments/dep_mock1/invoke",created_at:i}]};if(t==="POST")return}if(e[0]==="org"){if(e.length===1&&t==="GET")return{name:"Acme Inc",slug:r.orgSlug};if(e[1]==="api-keys"){if(e.length===2){if(t==="GET")return{api_keys:[{id:r.apiKey,name:"Production",key_prefix:"aploy_",last_used_at:null}]};if(t==="POST")return{raw_key:"aploy_mock_"+Math.random().toString(36).slice(2)}}if(e.length===3&&t==="DELETE")return}if(e[1]==="credentials"){if(e.length===2){if(t==="GET")return{credentials:[{id:r.credential,name:"AWS prod",type:"s3",status:"ok",last_tested_at:i}]};if(t==="POST")return}if(e.length===3){if(e[2]==="test"&&t==="POST")return{ok:!0};if(t==="DELETE")return}}}if(e[0]==="knowledge-bases"){if(e.length===1){if(t==="GET")return{knowledge_bases:[{id:r.knowledgeBase,name:"Product docs",status:"ready",chunk_count:1200}]};if(t==="POST")return{id:r.knowledgeBase}}if(e.length===2&&e[1]!=="new"){const n=e[1];if(t==="GET")return{id:n,name:"Product docs",status:"ready",chunk_count:1200,source:{type:"upload"},embedding_model:"text-embedding-3-small",embedding_dimension:1536,chunk_config:{size:512,overlap:64}};if(e.length===3&&e[2]==="ingest"&&t==="POST")return{status:"ready",chunk_count:1200}}}if(e[0]==="pipelines"){if(e.length===1){if(t==="GET")return{pipelines:[{id:r.pipeline,name:"Summarize then classify",description:"",steps:[],created_at:i}]};if(t==="POST")return{id:r.pipeline}}if(e.length===2&&e[1]!=="new"){const n=e[1];if(t==="GET")return{id:n,name:"Summarize then classify",description:"",steps:[{id:"step1",type:"model",name:"step1"}]}}}if(e[0]==="triggers"){if(e.length===1){if(t==="GET")return{triggers:[{id:r.trigger,pipeline_id:r.pipeline,name:"Webhook",type:"webhook",status:"active",webhook_url:"https://api.aploy.dev/webhooks/trig_mock1"}]};if(t==="POST")return}if(e.length===2&&t==="DELETE")return}if(e[0]==="billing"){if(e[1]==="usage"&&t==="GET")return{period_start:new Date().toISOString().slice(0,10),period_end:new Date().toISOString().slice(0,10),compute_gpu_hours:24.5,storage_gb_months:120,total_usd:42.5,forecast_usd:55};if(e[1]==="invoices"&&t==="GET")return{invoices:[]};if(e[1]==="setup-customer"&&t==="POST")return{stripe_customer_id:"cus_mock"}}if(t==="GET"){if(e[0]==="projects")return{projects:[]};if(e[0]==="datasets")return{datasets:[]};if(e[0]==="runs")return{runs:[]};if(e[0]==="deploy")return{deployments:[]};if(e[0]==="knowledge-bases")return{knowledge_bases:[]};if(e[0]==="pipelines")return{pipelines:[]};if(e[0]==="triggers")return{triggers:[]}}return{}}function l(){return{mockFetch:c,MOCK_IDS:r,setSimulateErrorNext:u}}export{l as u};
