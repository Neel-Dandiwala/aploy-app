import{_ as c}from"./DyabKexD.js";import{_}from"./CyeEiYbI.js";import{_ as g}from"./Dvi7YPqy.js";import{u as h}from"./BIUpqFe3.js";import{e as f,c as s,b as d,w as l,t as r,a as t,F as w,r as k,g as y,o,d as i,k as x}from"./BpnP_1c4.js";import{_ as b}from"./DlAUqK2U.js";import"./FoZdgCff.js";import"./BRJawhm2.js";import"./BIYn82lU.js";const B=f({name:"KnowledgeBasesList",data(){return{knowledgeBases:[],loading:!0,error:""}},setup(){const{apiFetch:e}=h();return{apiFetch:e}},async mounted(){await this.load()},methods:{async load(){this.loading=!0,this.error="";try{const e=await this.apiFetch("/api/knowledge-bases");this.knowledgeBases=e.knowledge_bases||[]}catch(e){this.error=e.message||"Failed to load knowledge bases"}finally{this.loading=!1}},statusClass(e){return e==="ready"?"text-emerald-500":e==="failed"?"text-destructive":e==="ingesting"?"text-amber-500":"text-muted-foreground"}}}),C={class:"app-page"},N={key:0,class:"text-muted-foreground text-sm"},A={key:1,class:"app-error"},$={key:2,class:"app-table-wrap"},v={class:"app-table"},F={class:"font-medium text-zinc-900"},L={class:"text-muted-foreground"},V={key:0,class:"app-empty"};function z(e,a,K,S,D,E){const p=c,u=_,m=g;return o(),s("div",C,[d(u,{title:"Knowledge bases"},{actions:l(()=>[d(p,{to:"/app/knowledge-bases/new"},{default:l(()=>[...a[0]||(a[0]=[i("Add knowledge base",-1)])]),_:1})]),_:1}),e.loading?(o(),s("p",N,"Loading…")):e.error?(o(),s("p",A,r(e.error),1)):(o(),s("div",$,[t("table",v,[a[2]||(a[2]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Status"),t("th",null,"Chunks"),t("th")])],-1)),t("tbody",null,[(o(!0),s(w,null,k(e.knowledgeBases,n=>(o(),s("tr",{key:n.id},[t("td",F,r(n.name),1),t("td",{class:x(e.statusClass(n.status))},r(n.status),3),t("td",L,r(n.chunk_count??"—"),1),t("td",null,[d(m,{to:`/app/knowledge-bases/${n.id}`,class:"text-accent hover:text-accent-hover text-sm transition-colors"},{default:l(()=>[...a[1]||(a[1]=[i(" Open ",-1)])]),_:1},8,["to"])])]))),128))])]),!e.loading&&!e.error&&e.knowledgeBases.length===0?(o(),s("p",V," No knowledge bases yet. Add one to get started. ")):y("",!0)]))])}const M=b(B,[["render",z]]);export{M as default};
