import{_ as v}from"./CyeEiYbI.js";import{_}from"./DyabKexD.js";import{u as b}from"./BIUpqFe3.js";import{e as c,n as g,c as i,b as r,a as t,h as s,l as p,v as k,t as l,g as w,w as d,j as y,o as m,d as u}from"./BpnP_1c4.js";import{_ as S}from"./DlAUqK2U.js";import"./Dvi7YPqy.js";import"./FoZdgCff.js";import"./BRJawhm2.js";import"./BIYn82lU.js";const h=c({name:"NewTraining",data(){return{form:{dataset_version_id:"dsv_1",epochs:3,lora_rank:16,compute_mode:"auto"},loading:!1,error:""}},setup(){const{apiFetch:e}=b();return{apiFetch:e}},methods:{async onSubmit(){this.error="",this.loading=!0;try{const e=await this.apiFetch("/api/runs",{method:"POST",body:{project_id:"proj_demo1",dataset_version_id:this.form.dataset_version_id,config:{epochs:this.form.epochs,lora_rank:this.form.lora_rank},compute:{mode:this.form.compute_mode}}});await g(`/app/runs/${e.id}`)}catch(e){this.error=e.message||"Failed to start training"}finally{this.loading=!1}}}}),j={class:"app-page-narrow"},V={key:0,class:"app-error"},$={class:"flex flex-wrap gap-3 pt-1"};function A(e,o,C,N,T,B){const f=v,n=_;return m(),i("div",j,[r(f,{title:"Configure training",description:"Select dataset version and config. Estimated ~$14.50, ~2h.","back-to":"/app/projects/proj_demo1","back-label":"Project"}),t("form",{onSubmit:o[3]||(o[3]=y((...a)=>e.onSubmit&&e.onSubmit(...a),["prevent"])),class:"space-y-6"},[t("div",null,[o[5]||(o[5]=t("label",{class:"app-label"},"Dataset version",-1)),s(t("select",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.form.dataset_version_id=a),class:"app-select"},[...o[4]||(o[4]=[t("option",{value:"dsv_1"},"Support chat v1 (10,200 rows)",-1)])],512),[[p,e.form.dataset_version_id]])]),t("div",null,[o[6]||(o[6]=t("label",{class:"app-label"},"Epochs",-1)),s(t("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>e.form.epochs=a),type:"number",class:"app-input",min:"1",max:"20"},null,512),[[k,e.form.epochs,void 0,{number:!0}]])]),t("div",null,[o[8]||(o[8]=t("label",{class:"app-label"},"LoRA rank",-1)),s(t("select",{"onUpdate:modelValue":o[2]||(o[2]=a=>e.form.lora_rank=a),class:"app-select"},[...o[7]||(o[7]=[t("option",{value:8},"8",-1),t("option",{value:16},"16",-1),t("option",{value:32},"32",-1)])],512),[[p,e.form.lora_rank,void 0,{number:!0}]])]),e.error?(m(),i("p",V,l(e.error),1)):w("",!0),t("div",$,[r(n,{type:"submit",disabled:e.loading},{default:d(()=>[u(l(e.loading?"Startingâ€¦":"Start training"),1)]),_:1},8,["disabled"]),r(n,{variant:"secondary",to:"/app/projects/proj_demo1"},{default:d(()=>[...o[9]||(o[9]=[u("Cancel",-1)])]),_:1})])],32)])}const R=S(h,[["render",A]]);export{R as default};
