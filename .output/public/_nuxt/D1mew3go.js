import{_ as y}from"./B2i7BuXP.js";import{_ as g}from"./3gX_DK_6.js";import{u as v}from"./1A9NfWrD.js";import{e as b,n as w,c as r,b as i,a as o,h as n,l,m as p,j as _,w as d,i as c,o as m,d as u,t as x}from"./eG_W-IWR.js";import{_ as S}from"./DlAUqK2U.js";import"./BK5343vK.js";import"./C5yYOmo6.js";const V=b({name:"NewDeployment",data(){return{form:{model_version_id:"mv_1",type:"api",region:"us-east-1"},loading:!1}},setup(){const{apiFetch:t}=v();return{apiFetch:t}},methods:{async onSubmit(){this.loading=!0;try{await this.apiFetch("/api/deploy",{method:"POST",body:{model_version_id:this.form.model_version_id,type:this.form.type,config:this.form.type==="api"?{region:this.form.region}:{}}}),await w("/app/deployments")}finally{this.loading=!1}}}}),A={class:"app-page-narrow"},D={class:"flex gap-6"},k={class:"flex items-center gap-2 cursor-pointer text-muted-foreground hover:text-white transition-colors"},B={class:"flex items-center gap-2 cursor-pointer text-muted-foreground hover:text-white transition-colors"},N={key:0},P={class:"flex flex-wrap gap-3 pt-1"};function $(t,e,h,C,M,T){const f=y,a=g;return m(),r("div",A,[i(f,{title:"Deploy model",description:"We host your model; you get an API. Or export weights.","back-to":"/app/deployments","back-label":"Deployments"}),o("form",{onSubmit:e[4]||(e[4]=c((...s)=>t.onSubmit&&t.onSubmit(...s),["prevent"])),class:"space-y-6"},[o("div",null,[e[6]||(e[6]=o("label",{class:"app-label"},"Model version",-1)),n(o("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>t.form.model_version_id=s),class:"app-select"},[...e[5]||(e[5]=[o("option",{value:"mv_1"},"mv_1 (Support Bot, run_1)",-1)])],512),[[l,t.form.model_version_id]])]),o("div",null,[e[9]||(e[9]=o("label",{class:"app-label"},"Type",-1)),o("div",D,[o("label",k,[n(o("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>t.form.type=s),type:"radio",value:"api",class:"rounded border-border text-accent focus:ring-accent/30"},null,512),[[p,t.form.type]]),e[7]||(e[7]=o("span",null,"API endpoint",-1))]),o("label",B,[n(o("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>t.form.type=s),type:"radio",value:"export",class:"rounded border-border text-accent focus:ring-accent/30"},null,512),[[p,t.form.type]]),e[8]||(e[8]=o("span",null,"Export weights",-1))])])]),t.form.type==="api"?(m(),r("div",N,[e[11]||(e[11]=o("label",{class:"app-label"},"Region",-1)),n(o("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>t.form.region=s),class:"app-select"},[...e[10]||(e[10]=[o("option",{value:"us-east-1"},"us-east-1",-1),o("option",{value:"eu-west-1"},"eu-west-1",-1)])],512),[[l,t.form.region]])])):_("",!0),o("div",P,[i(a,{type:"submit",disabled:t.loading},{default:d(()=>[u(x(t.loading?"Deployingâ€¦":t.form.type==="api"?"Deploy to API":"Export weights"),1)]),_:1},8,["disabled"]),i(a,{variant:"secondary",to:"/app/deployments"},{default:d(()=>[...e[12]||(e[12]=[u("Cancel",-1)])]),_:1})])],32)])}const H=S(V,[["render",$]]);export{H as default};
